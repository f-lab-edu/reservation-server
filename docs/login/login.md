# 로그인 인증 방식 비교 및 JWT 토큰 선택 이유

## 1. 인증 방식별 비교

### 1.1 쿠키 방식

1. 클라이언트가 로그인 요청
2. 서버에서 사용자 정보를 쿠키에 저장하여 응답
3. 브라우저가 자동으로 쿠키를 저장
4. 이후 요청 시 쿠키가 자동으로 전송됨

**장점**

- 구현이 간단함
- 브라우저에서 자동으로 관리됨
- 서버 개발자가 별도 처리 없이 사용 가능

**단점**

- **보안 취약점**: 쿠키에 중요 정보가 노출됨
- **XSS 공격에 취약**: JavaScript로 쿠키 접근 가능
- **CSRF 공격 위험**: 자동 전송으로 인한 위조 요청
- **용량 제한**: 4KB 제한
- **모바일 앱에서 사용 어려움**: 네이티브 앱 지원 제한적

### 1.2 세션 방식

1. 클라이언트가 로그인 요청
2. 서버에서 사용자 정보를 서버 메모리/DB에 저장
3. 세션 ID만 쿠키로 클라이언트에 전송
4. 이후 요청 시 세션 ID로 서버에서 사용자 정보 조회

**장점**

- **보안성 우수**: 중요 정보는 서버에만 저장
- **세밀한 제어**: 서버에서 세션 무효화 가능

**단점**

- **서버 부하**: 세션 정보를 서버에 저장해야 함
- **확장성 문제**: 다중 서버 환경에서 세션 동기화 필요
- **메모리 사용량**: 사용자 수에 비례한 메모리 사용
- **Stateful**: 서버가 상태를 유지해야 함
- **모바일 앱 지원 제한**: 쿠키 기반으로 모바일에서 불편함이 여전함

### 1.3 JWT 토큰 방식

1. 클라이언트가 로그인 요청
2. 서버에서 사용자 정보를 JWT 토큰으로 인코딩
3. 토큰을 클라이언트에 응답
4. 클라이언트가 토큰을 저장하고 요청 시 Header에 포함
5. 서버에서 토큰을 검증하여 사용자 인증

**장점**

- **Stateless**: 서버에 상태 저장 불필요
- **확장성 우수**: 다중 서버 환경에서 동기화 불필요
- **크로스 도메인**: CORS 환경에서 유리
- **모바일 친화적**: 네이티브 앱에서 쉽게 사용
- **표준화**: RFC 7519 표준

**단점**

- **토큰 크기**: 쿠키보다 큰 용량
- **토큰 무효화 어려움**: 발급된 토큰은 만료 전까지 유효
  - Access Token, Refresh Token 전략을 사용해서 문제 상황을 최대한 줄일 수 있음
- **보안 관리**: 클라이언트에서 토큰 저장 방식 중요
  - 세션 스토리지, 로컬 스토리지, 쿠키 등 저장 위치에 따른 보안 이슈 고려 필요
- **구현 복잡도**: 토큰 갱신 로직 등 추가 구현 필요

## 2. JWT 토큰 선택 이유

다중 API 서버 구조와 플랫폼(웹, 앱) 지원 필요성, 서버 증설시 별도의 세션 동기화 문제, Stateless 등 여러 요구사항을 고려할 때 JWT 토큰 방식이 가장 적합하다고 판단

- Stateless: 서버에 회원 정보 저장 불필요, 메모리 절약 및 수평 확장 용이
- 다중 서버 환경: 토큰 자체에 인증 정보 포함, 다중 서버에서 세션 동기화 불필요
- 클라이언트 유연성: 웹, 모바일, 외부 API 등 다양한 클라이언트 지원 가능 (다른 구현 방식의 경우 제한적이라고 함)

